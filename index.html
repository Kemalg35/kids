<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Minik AtÃ¶lye</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
<header class="topbar">
  <h1>ğŸˆ Minik AtÃ¶lye</h1>
  <div class="top-actions">
    <button id="parentBtn" class="btn btn-light">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Ebeveyn</button>
    <button id="badgesBtn" class="btn btn-light">ğŸ† Rozetler</button>
  </div>
</header>

<main id="app">
  <!-- MENÃœ -->
  <section id="menu" class="grid">
    <button class="tile" data-go="colors">ğŸ¨ Renkler</button>
    <button class="tile" data-go="numbers">ğŸ”¢ SayÄ±lar</button>
    <button class="tile" data-go="story">ğŸ“š Masal + GÃ¶rsel (AI)</button>
    <button class="tile" data-go="music">ğŸµ Ritim</button>
  </section>

  <!-- RENKLER -->
  <section id="screen-colors" class="screen hidden">
    <div class="bar">
      <button class="btn back">â¬… MenÃ¼</button>
      <h2>Rengi Bul!</h2>
    </div>
    <div class="card center">
      <div id="color-visual" class="visual"></div>
      <p id="color-question" class="q">Bu nesnenin rengi ne?</p>
      <div id="color-options" class="options"></div>
    </div>
  </section>

  <!-- SAYILAR -->
  <section id="screen-numbers" class="screen hidden">
    <div class="bar">
      <button class="btn back">â¬… MenÃ¼</button>
      <h2>KaÃ§ Tane?</h2>
    </div>
    <div class="card center">
      <div id="numbers-visual" class="nums"></div>
      <div id="numbers-options" class="options"></div>
    </div>
  </section>

  <!-- MASAL (AI kancalÄ±) -->
  <section id="screen-story" class="screen hidden">
    <div class="bar">
      <button class="btn back">â¬… MenÃ¼</button>
      <h2>Masal OluÅŸtur</h2>
    </div>

    <form id="storyForm" class="card form">
      <div class="row">
        <label>Karakter adÄ± <input name="name" placeholder="Ada / Ali..." required></label>
        <label>Mekan
          <select name="place">
            <option>orman</option><option>deniz</option><option>uzay</option><option>kasaba</option>
          </select>
        </label>
        <label>Olay
          <select name="event">
            <option>kayÄ±p oyuncaÄŸÄ± bulma</option>
            <option>yeni arkadaÅŸ edinme</option>
            <option>cesaret gÃ¶sterme</option>
          </select>
        </label>
      </div>
      <div class="row">
        <button class="btn" type="submit">âœï¸ MasalÄ± Yaz</button>
        <button class="btn" type="button" id="storyDraw">ğŸ¨ MasalÄ± Ã‡iz (AI)</button>
      </div>
    </form>

    <div class="card">
      <div id="story-visual" class="visual visual--story"></div>
      <p id="storyOut" class="story"></p>
      <div class="row center">
        <button id="ttsBtn" class="btn">ğŸ”Š Seslendir</button>
        <button id="saveStoryBtn" class="btn btn-light">ğŸ’¾ Kaydet</button>
      </div>
    </div>
  </section>

  <!-- MÃœZÄ°K / RÄ°TÄ°M -->
  <section id="screen-music" class="screen hidden">
    <div class="bar">
      <button class="btn back">â¬… MenÃ¼</button>
      <h2>Ritmi Takip Et</h2>
    </div>
    <div class="card center">
      <p id="rythmStatus" class="q">HazÄ±r mÄ±sÄ±n? Dinle ve tekrar et.</p>
      <div class="keys">
        <button class="key" data-f="261.63">Do</button>
        <button class="key" data-f="293.66">Re</button>
        <button class="key" data-f="329.63">Mi</button>
        <button class="key" data-f="349.23">Fa</button>
      </div>
      <div class="row center">
        <button id="playRythm" class="btn">â–¶ï¸ Dinlet</button>
      </div>
    </div>
  </section>
</main>

<!-- Konfeti -->
<canvas id="confettiCanvas"></canvas>

<!-- Ebeveyn Modal -->
<dialog id="parentModal" class="modal">
  <form method="dialog" class="card form">
    <h3>Ebeveyn AyarlarÄ±</h3>
    <label>GÃ¼nlÃ¼k sÃ¼re limiti (dk)
      <input id="limitInput" type="number" min="5" max="120" step="5" value="20">
    </label>
    <label>YaÅŸ aralÄ±ÄŸÄ±
      <select id="ageBand">
        <option value="2-4">2-4</option>
        <option value="5-7" selected>5-7</option>
        <option value="8-10">8-10</option>
      </select>
    </label>
    <div class="row">
      <button id="saveLimit" class="btn">Kaydet</button>
      <button value="cancel" class="btn btn-light">Kapat</button>
    </div>
    <p id="limitInfo" class="muted"></p>
  </form>
</dialog>

<!-- Rozet Modal -->
<dialog id="badgesModal" class="modal">
  <div class="card">
    <h3>HaftalÄ±k Hedefler</h3>
    <ul id="challengeList" class="list"></ul>
    <div class="row">
      <button id="claimSticker" class="btn">ğŸŒŸ GÃ¶revi Tamamla</button>
      <button id="resetSticker" class="btn btn-light">SÄ±fÄ±rla</button>
    </div>
    <p id="stickerInfo" class="muted"></p>
    <div class="row center">
      <button value="cancel" class="btn">Kapat</button>
    </div>
  </div>
</dialog>

<!-- Sesler -->
<audio id="tapSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_6f4cc50e65.mp3?filename=button-press-81867.mp3"></audio>
<audio id="successSound" src="https://cdn.pixabay.com/download/audio/2021/09/29/audio_2da84ab2be.mp3?filename=success-1-6297.mp3"></audio>
<audio id="failSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_8a1ab4e91a.mp3?filename=error-126627.mp3"></audio>

<script src="app.js"></script>
</body>
</html>
